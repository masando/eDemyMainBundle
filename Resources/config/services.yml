parameters:
    edemy.main.bundle:  "eDemy\\MainBundle"

services:
    edemy.main:
        class: eDemy\MainBundle\Controller\MainController
        calls:
            - [setEventDispatcher, ["@event_dispatcher"]]
        tags:
            - { name: kernel.event_subscriber }

    edemy.param:
        class:  %edemy.main.bundle%\Controller\ParamController
        calls:
            - [setEventDispatcher, ["@event_dispatcher"]]
        tags:
            - { name: kernel.event_subscriber }

    edemy.routing_loader:
        class:  %edemy.main.bundle%\Routing\RoutingLoader
        calls:
            - [setKernel, ["@kernel"]]
            - [setContainer, ["@service_container"]]
        tags:
            - { name: routing.loader }

    edemy.servicecontainer:
        class: %edemy.main.bundle%\Controller\ServiceContainerController
        calls:
            - [setContainer, ["@service_container"]]
        tags:
            - { name: kernel.event_subscriber }

    edemy.twig.translation_extension:
        class:  %edemy.main.bundle%\Twig\TranslationExtension
        calls: 
            - [setEventDispatcher, ["@event_dispatcher"]]
        tags:
            - { name: twig.extension }

    edemy.twig.path_extension:
        class:  eDemy\MainBundle\Twig\PathExtension
        arguments: ["@service_container"]
        tags:
            - { name: twig.extension }

    edemy.twig.service_extension:
        class:  %edemy.main.bundle%\Twig\ServiceExtension
        calls:
            - [setContainer, ["@service_container"]]
        tags:
            - { name: twig.extension }
