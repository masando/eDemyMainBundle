services:
    edemy.main:
        class: eDemy\MainBundle\Controller\MainController
        calls:
            - [setEventDispatcher, ["@event_dispatcher"]]
        tags:
            - { name: kernel.event_subscriber }

    edemy.param:
        class:  eDemy\MainBundle\Controller\ParamController
        calls:
            - [setEventDispatcher, ["@event_dispatcher"]]
        tags:
            - { name: kernel.event_subscriber }

    edemy.content:
         class: eDemy\MainBundle\Controller\ContentController
         calls:
             - [setEventDispatcher, ["@event_dispatcher"]]
         tags:
             - { name: kernel.event_subscriber }

    edemy.css:
        class:  eDemy\MainBundle\Controller\CssController
        calls:
            - [setEventDispatcher, ["@event_dispatcher"]]
        tags:
            - { name: kernel.event_subscriber }

    edemy.routing_loader:
        class:  eDemy\MainBundle\Routing\RoutingLoader
#        arguments: ["@service_container", "@kernel"]
        calls:
            - [setKernel, ["@kernel"]]
            - [setContainer, ["@service_container"]]
        tags:
            - { name: routing.loader }

    edemy.servicecontainer:
        class: eDemy\MainBundle\Controller\ServiceContainerController
        arguments: ["@service_container"]
        tags:
            - { name: kernel.event_subscriber }

    edemy.twig.translation_extension:
        class:  eDemy\MainBundle\Twig\TranslationExtension
        calls:
             - [setEventDispatcher, ["@event_dispatcher"]]
        tags:
            - { name: twig.extension }

    edemy.twig.path_extension:
        class:  eDemy\MainBundle\Twig\PathExtension
        calls:
            - [setContainer, ["@service_container"]]
        tags:
            - { name: twig.extension }

    edemy.twig.service_extension:
        class:  eDemy\MainBundle\Twig\ServiceExtension
        calls:
            - [setContainer, ["@service_container"]]
        tags:
            - { name: twig.extension }
